<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Open graph meta data. Test with:
         https://developers.facebook.com/tools/debug/ -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="ARTE | Active Rich Text Editor" />
    <meta property="og:description" content="ARTE is a free and open source javascript library for implementing sopisticated rich text editors in web pages." />
    <meta property="og:url" content="http://mimica.co.uk/arte/" />
    <meta property="og:image" content="http://mimica.co.uk/arte/img/logo-medium.png" />
    <!-- Twitter card data. Validator: 
         https://cards-dev.twitter.com/validator-->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="http://mimica.co.uk/arte/" />
    <meta name="twitter:title" content="ARTE | Active Rich Text Editor" />
    <meta name="twitter:description" content="ARTE is a free and open source javascript library for implementing sopisticated rich text editors in web pages." />
    <meta name="twitter:image" content="http://mimica.co.uk/arte/img/logo-medium.png" />
    <!-- Import bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!-- Import style sheet (edit this sheet to switch between light and dark themes) -->
    <link rel="stylesheet" href="./css/styles.min.css">
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>ARTE | Active Rich Text Editor</title>
</head>

<body class="index-body">

    <div class="index-header">

        <header>
            <img src="./img/logo-medium.png" alt="ARTE Logo"/>
            <div>
                <h1>The Active Rich Text Editor</h1>
                <h2>A free, open source and extensible library for implementing WYSIWYG editors in vanilla javascript that supports active components.</h2>
            </div>
        </header>

        <div class="buttons">
            <a class="github-button" href="https://github.com/Wolsten" data-color-scheme="no-preference: light; light: light; dark: dark;" data-size="large" aria-label="Follow @Wolsten on GitHub">Follow @Wolsten</a>     
            <a class="github-button" href="https://github.com/sponsors/Wolsten" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-heart" data-size="large" aria-label="Sponsor @Wolsten on GitHub">Sponsor</a>
            <a class="github-button" href="https://github.com/Wolsten/ARTE/subscription" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-eye" data-size="large" aria-label="Watch Wolsten/ARTE on GitHub">Watch</a>
            <a class="github-button" href="https://github.com/Wolsten/ARTE" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large" aria-label="Star Wolsten/ARTE on GitHub">Star</a>
        </div>

    </div>

    <!-- The inner html will be replaced with the defaultContent 
    option as specified below -->
    <div id="editor"></div>

    <!-- Add a save button to demonstrate saving the editor content
         Event handling added in script -->
    <button type="button" id="save">Save</button>

    <!-- Replace with ./js/ARTE-bundle-ES5.js for the transpiled version -->
    <script src="./js/ARTE-bundle-ES6.js" charset="utf-8"></script>

    <script type="text/javascript"> 

        // Define where the editor will appear
        const target = document.getElementById('editor')

        // Setup toolbar (groups)
        const toolbar = [
            [ ARTE.Blocks.H1, ARTE.Blocks.H2, ARTE.Blocks.H3, ARTE.Blocks.P, ARTE.Blocks.BQ],
            [ ARTE.Blocks.OL, ARTE.Blocks.UL],
            [ ARTE.Styles.B, ARTE.Styles.I, ARTE.Styles.U, ARTE.Colours.FOREGROUND, ARTE.Colours.BACKGROUND, ARTE.Styles.CLEAR],
            [ ARTE.Buffer.UNDO, ARTE.Buffer.REDO ],
            [ ARTE.Mentions.BUTTON, ARTE.Links.BUTTON, ARTE.Custom.BUTTON, ARTE.Comments.BUTTON],
            [ ARTE.Options.BUTTON ]
        ]

        // Setup Mentions plugin with list of people
        ARTE.Mentions.setup(['David','William', 'Jenny','Sally', 'Sarah', 'Susan','Brian'])

        // Define editor options
        const options = {
            // Automatically number headings using outline numbering. Allowed values true or false  
            // If include the ARTE.Options.BUTTON in the toolbar then this value can be set by the user   
            headingNumbers: true, 
            // Styling theme
            // If include the ARTE.Options.BUTTON in the toolbar then this value can be set by the user   
            theme: 'theme-light',       
            // Number of Undo operations supported, max 10    
            bufferSize: 10,
            // debugging flag, e.g. to output selection ranges
            debug: false,
            // Add default content from separate html file
            // The option will attempt to read in this file and 
            // override any value for the initial content specified 
            // by the second parameter when creating the editor instance
            defaultContent: 'default-content.html'
        }

        // Create editor and add to dom in target position
        const editor = new ARTE.Editor(target, '', toolbar, options)

        // Configure save button
        const save = document.getElementById('save')
        save.addEventListener('click', ()=>{
            let xml = editor.save()
            // Insert line feed before all opening tags to make easier to read
            xml = xml.replace(/(<[^\/.]+?>)/gm, '\n$1')
            const drawer = new ARTE.Modal({
                type:'full-screen', 
                title:'Cleaned XML to be saved',
                html:`<textarea style="height:100%;width:100%;padding:2rem;" readonly>${xml}</textarea>`,
                buttons:{cancel:{label:'Close'}},
                escape:true
            })
            drawer.show()
        })
    </script>
    
</body>
</html>